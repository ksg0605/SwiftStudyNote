- 정규화는 주어진 릴레이션 스키마를 함수적 종속성과 기본 키를 기반으로 분석하여 원래 의 릴레이션을 분해함으로써 중복과 세가지 갱신 이상을 최소화 하는 것
- 정보의 중복: 정보의 중복은 동일 정보를 두 곳 이상에 저장하는 것을 의미
- 갱신 이상
	- 수정이상: 반복된 데이터 중에 일부만 수정하면 데이터의 불일치가 발생한다
	- 삽입이상: 불필요ㄴ 정보를 함께 저장하지 않고서는 어떤 정보를 저장하는 것이 불가능하다
	- 삭제이상: 유용한 정보를 함께 삭제하지 않고는 어떤 정보를 삭제하는 것이 불가능하다
- 분해된 릴레이션은 원래ㅣ 릴레이션이 갖고 있던 정보와 정확히 일치해야 한다
## 함수적 종속성
### 결정자
- 어떤 애트리뷰의 값은 다른 애트리뷰트의 값을 고유하게 결정할 수 있다
- 결정자는 주어진 릴레이션에서 다른 애트리뷰트(또는 애트리뷰트 집합)을 고유하게 결정하는 하나 이상의 애트리뷰트를 의미한다
- A가 B를 결정한다 라고 말한다
- 릴레이션 R에서 애트리뷰트 A가 B의 결정자이면 임의의 두 투플에서 A의 애트리부트 값이 같으면 B애트리뷰트 값도 알아야 한다
- 결정자가 반드시 키 애트리뷰트여야 하는 것은 아니다
- 결정자가 복함 애트리뷰트 일 수 도 있다
### 함수적 종속성
- 애트리뷰트 A가 애트리뷰트 B의 결정자이면 B가 A에 함수적으로 종속한다고 말한다
- 함수적 종속송을 아래와 같이 다이어그램으로 나타내기도 한다
![[스크린샷 2024-01-12 오후 1.30.56.png]]
### 완전 함수적 종속성
- 애트리뷰트 B가 애트리뷰트 A에 함수적으로 종속하면서, 애트리뷰트 A의 어떠한 진부분 집합에도 함수적으로 종속하지 않으면 애트리뷰트 B가 애트리뷰트 A에 완전하게 함수적으로 종속한다
- 완전 함수적 종속성은 A가 복합 애트리뷰트일 때만 가능하다
- 부분 함수적 종속성: 완전하게 함수적으로 종속 X
![[스크린샷 2024-01-12 오후 1.42.06.png]]
### 이행적 함수적 종속성
![[스크린샷 2024-01-12 오후 1.48.13.png]]
- 즉, 기본키가 아닌 애가 결정자가 되는 것 (A->B, B->C, A->C)
### 릴레이션 분해
- 하나의 릴레이션을 두 개 이상의 릴레이션으로 나누는 것
- 릴레이션을 분해하면 중복이 감소되고 갱신 이상이 줄어듦
- 단점
	- 일부 질의의 수행 시간이 길어짐
	- 릴레이션이 분해되기 전에는 조인이 필요 없다가 조인이 필요해짐
	- 분해된 릴레이션으로 원래 릴레이션을 재구성하지 못할수도 있다
		- 무손실 분해: 분해된 릴레이션을 다시 조인하면 원래의 릴레이션에 들어있는 정보를 완전하게 얻을 수 있는 분해
		- 정보의 손실: 분해한 릴레이션들을 조인한 결과에 들어있는 정보가 원래의 릴레이션에 들어있는 정보보다 적거나 많은 것 (원래보다 많은 것 -> 가짜투플이 생김 -> 손실)
# 정규형
## 제 1정규형
- 릴레이션 R의 모든 애트리뷰트가 원자값만을 갖는다
- 반복 그룹 애트리뷰트에 나타나는 집합에 속한 각 값마다 하나의 투플로 표현해주다
![[스크린샷 2024-01-12 오후 1.57.37.png]]
![[스크린샷 2024-01-12 오후 1.59.10.png]]
## 제 2정규형
- 릴레이션 R이 제 1정규형을 만족하면서, 어떤 후보 키에도 속하지 않는 모든 애트리뷰트들이 R의 기본키에 완전하게 함수적으로 종속하는 것이다.
- 제 2정규형은 기본키가 두 개 이상의 애트리뷰트로 구성되었을 때만 고려하면 된다
![[스크린샷 2024-01-12 오후 2.01.13.png]]
- 갱신이상 발생 -> 이행적 종속성 때문
- 키가 아닌 애트리뷰트가 결정자 역할
- 학번 -> 학과 이름, 학과 전화번호
- 학과이름 -> 학과전화번호
## 제 3정규형
릴레이션 R이 제 2정규형을 만족하면서, 키가 아닌 모든 애트리뷰트가 릴레이션 R의 기본키에 이행적으로 종속하지 않는 것이다
![[스크린샷 2024-01-12 오후 2.08.56.png]]
## BCNF
- 릴레이션 R이 제3정규형을 만족하고, 모든 결정자가 후보키여야 한다
- 제3정규형을 만족하는 대부분의 릴레이션은 BCNF도 만족한다 아닌 경우도 있음
![[스크린샷 2024-01-12 오후 2.10.30.png]]
- 제 3정규형 중에서도 키가 아닌 애트리뷰트가 키 애트리뷰트의 결정자인 경우에는 BCNF를 만족하지 않는다
![[스크린샷 2024-01-12 오후 2.14.18.png]]
![[스크린샷 2024-01-12 오후 2.15.16.png]]
![[스크린샷 2024-01-12 오후 2.16.05.png]]
