## 3.1 관계대수의 특징
- 관계형 데이터베이스에서 릴레이션은 투플의 집합이다.
- 관계대수는 이러한 릴레이션을 처리하기 위한 연산의 집합
- 관계대수는 기존의 릴레이션들로부터 새로운 릴레이션을 생성
- 관계 연산자는 한 개 또는 두 개의 릴레이션을 입력으로 받아 하나의 결과 릴레이션을 반환
- 관계대수식은 절차적
	- 원하는 데이터를 얻기 위해 하는 연산을 순서대로 명세
- 결과 릴레이션은 중복된 투플이 존재하지 않음 (릴레이션은 투플의 집합이기 때문에)
  ## 3.2 관계대수의 완전성
  - 실렉션, 프로젝션, 합집합, 차집합, 카디션 곱은 관계대수느이 필수적인 연산자
  - 다른 연산자는 필수 연산자 사용해서 표현 가능
  - 임의의 질의어가 적어도 필수적인 관계대수 연산자들만큼의 표현력을 갖고 있으면 관계적으로 완전하다고 말함

## 3.3 관계연산자들의 종류와 표기법
  ![[스크린샷 2024-01-08 오후 5.23.56.png]]
### 3.3.1 실렉션 연산자
- 실렉션 연산자는 한 릴레이션에서 실렉션 조건(프레디킷이라고도 부름)을 만족하는 투플들의 부분 집합을 생성한다.
- 즉 투플을 걸러내는 연산
- 주어진 릴레이션을 수평적으로 절단하디 때문에 수평적 부분 집합을 생성함
- 차수 변화 없음
- 실렉션 조건 형태
	- <애트리뷰트> 비교 연산자 <상수>
	- <애트리뷰트> 비교 연산자 <애트리뷰트>
	- <조건> AND / OR <조건>
	- NOT <조건>
![[스크린샷 2024-01-08 오후 5.32.58.png]]
### 3.3.2 프로젝션 연산자
- 한 릴레이션의 애트리뷰트들의 부분 집합을 구한다
- 주어진 릴레이션을 수직적으로 절단하기 때문에 수직적 부분 집합을 생성함
- 애트리뷰트 리스트에 열거된 순서대로 결과 릴레이션에 나타난다.
- 프로젝션 연산의 겨로가 릴레이션에서는 중복된 투플이 존재할 수 있다.
- 따라서 중복 트플들을 제거하는 과정이 이루어짐
![[스크린샷 2024-01-08 오후 5.34.46.png]]
### 3.3.3 집합 연산자
- 입력으로 사용되는 두개의 릴레이션이 서로 합집합 호환이어야 한다.
- 합집합 호환 (합병가능 이라는 용어로 사용되기도 함)
	- 두 릴레이션의 애트리뷰트 수가 같고 대응되는 애트리뷰트들의 도메인이 같다
	- 그러나 애트리뷰트 이름도 서로 같아야 하는 것은 아니다
### 3.3.4 합집합 연산자
- 릴레이션 R또는 S에 속하는 투플들로 구성된 릴레이션
- 중복된 투플들은 제외한다
- 결과 릴레이션의 차수는 R또는 S의 차수와 같다
- 결과 릴레이션의 카디널리티는 R, S의 카디널리티의 합보다 크지 않다
![[스크린샷 2024-01-08 오후 5.42.45.png]]
### 3.3.5 교집합 연산자
- 두 릴레이션 모두에 속한 투플들로 이루어진 릴레이션
- 결과 릴레이션의 차수는 R또는 S의 차수와 같다
- 결과 릴레이션의 카디널리티는 R이나 S의 어떤 카디날리티보가 크지 않다.
![[스크린샷 2024-01-08 오후 5.50.22.png]]
### 3.3.6 차집합 연산자
- R에는 있지만 S에는 없는 투플로 구성된 릴레이션
- 결과 릴레이션의 차수는 R또는 S의 차수와 같다
- 결과 릴레이션의 카디널리티는 R의 카디널리티보다 크지 않다.
![[스크린샷 2024-01-08 오후 5.51.49.png]]
### 3.3.7 카디션 곱 연산자
- 합집합 호환이 아니어도 가능하다
- R과 S의 투플들의 모든 가능한 조합으로 이루어진 릴레이션
- 결과 릴레이션의 차수는 R또는 S의 차수와 같다
- 결과 릴레이션의 카디널리티는 두 릴레이션의 카디널리티를 곱한 것과 같다
- 카디션 곱의 결과 릴레이션의 크기는 매우 커지게 되는데 사용자는 이 중 일부만 사용하는 경우가 대부분이므로 카디션 곱 자체는 유용한 연산은 아니다.
![[스크린샷 2024-01-08 오후 5.53.34.png]]
### 3.3.8 조인 연산자
- 두개의 릴레이션으로부터 연관된 투플들을 결합하는 연산자이다
- 릴레이션들의 관계를 다루는데 굉장히 중요한 연산자
### 3.3.9 세타 조인
- 세타는 조인 조건에 사용되는 비교 연산자 중 하나이다
- A와 B는 같은 도메인 위에 정의된 조인 애트리뷰트라 한다
- 세타 조인 조건을 만족하는 투플들을 골라낸다
- 결과 릴레이션의 차수는 릴레이션 R과 S의 차수를 합한 것과 같다
![[스크린샷 2024-01-08 오후 5.55.32.png]]
### 3.3.10 동등조인
- 동등조인은 세타 조인 중에  비교 연산자가 `=`인 조인이다
- 문제점: 동일한 애트리뷰트가 결과 릴레이션에 중복되어 나타나게 된다
![[스크린샷 2024-01-08 오후 5.56.31.png]]
### 3.3.11 자연조인
- 동등 조인의 겨로가 릴레이션에서 조인 애트리뷰트를 한 개 제거한것을 의미
![[스크린샷 2024-01-08 오후 5.57.00.png]]
### 3.3.12 세미조인
- 두 릴레이션을 자연 조인한 결과에 닫힌쪽 릴레이션의 애트리뷰트로 프로젝트한 것
- R의 애트리뷰트만 남기
![[스크린샷 2024-01-08 오후 5.57.39.png]]
### 3.3.13 외부조인
- 상대 릴레이션에서 대응되는 투플을 갖지 못하는 투플이나 조인 애트리뷰트에 널값이 들어있는 투플을 다루기 위해서 조인 연산을 확장한 것
- 두 릴레이션에서 대응되는 투플들을 결합하면서, 대응되는 투플을 갖지 않는 투플과 조인 애트리뷰트에 널값을 갖는 투플도 결과에 포함시킨다.
### 3.3.14 왼쪽 외부조인
- R의 모든 투플들을 결과에 포함시킨다
- S에 관련된 투플이 없으면 결과 릴레이션에서 릴레이션 S의 애트리뷰트들은 널값으로 채운다
- 왼쪽을 모두 살림
![[스크린샷 2024-01-08 오후 6.02.05.png]]
### 3.3.15 오른쪽 외부조인
- 왼쪽 외부조인의 반대
- 오른쪽 모두 살림
![[스크린샷 2024-01-08 오후 6.03.00.png]]
### 3.3.16 완전 외부조인 (외부 합집합)
- R과 S의 모든 투플들을 결과에 포함시키고, 상대 릴레이션에 관련된 투플리 없으면 널값으로 채운다
![[스크린샷 2024-01-08 오후 6.03.51.png]]
## 3.4 디비전 연산자
- S에 속하는 모든 튜플 u에 대하여 튜플 tu(투플 t와 투플 u를 결합한 것)가 R에 존재하는 투플 t들의 집합
![[스크린샷 2024-01-08 오후 6.07.53.png]]
## 3.5 개명 연산
- 중간 결과 릴레이션에 이름을 지정하거나 애트리뷰트 이름을 변경할 때 사용
![[스크린샷 2024-01-08 오후 6.08.45.png]]
## 3.6 집단(집계) 함수
- SUM
- AVG
- MAX
- MIN
- COUNT
## 3.7 그룹화
- 그룹화 애트리뷰트들의 값에 의해서 투플들을 그룹짓고, 
- 각 그룹에 속하는 투플들에 대해서 집단 함수를 적용할 수 있다.
![[스크린샷 2024-01-08 오후 6.09.50.png]]
