- ER 모델은 실세계를 엔티티, 애트리뷰트, 엔티티들 간의 관계로 표현한다
- ER 모델은 쉽게 관계 데이터 모델로 사상된다
- 기본적인 구문: 엔티티 관계, 애트리뷰트
- 기타 구문: 카디날리티 비율, 참여 제약조건
## 엔티티 (개체)
- 하나의 엔티티는 사람, 장소, 사물 등과 같이 독립적으로 존재하면서 고유하게 식별이 가능한 실세계 개체이다
## 엔티티 집합
- 개체 타입의 인스턴스
- 공통적인 애트리뷰트들을 가진 엔티티들의 모임이다
- 관계모델의 릴레이션의 외연에 해당
- 하나의 엔티티는 한개이상의 엔티티 집합에 속할 수 있다
	- 어떤 사원은 EMPLOYEE / MANAGER라는 두 엔티티 집합에 속할 수 있다
## 엔티티 타입
- 똑같은 애트리뷰트로 구성된 개체의 공통된 논리적 구조를 나타낸다
- 동일한 애트리뷰트들을 가진 엔티티들의 틀이다
- 관계모델의 릴레이션의 내포에 해당
- 강한 엔티티 타입
	- 독자적으로 존재
	- 엔티티 타입 내에서 자신의 키 애트리뷰트를 사용하여 고유하게 엔티티들을 식별할 수 있음
- 약한 엔티티 타입
	- 키를 형성하기에 충분한 애트리뷰트들을 갖지 못한 엔티티 타입
	- 엔티티들을 고유하게 식별하기 위해 다른 엔티티 타입으로부터 키 애트리뷰트를 가져오는 엔티티 타입
	- 소유 엔티티 타입(식별 엔티티 타입)
		- 키 애트리뷰트를 제공하는 엔티티 타입
		- 고유 엔티티 타입이 존재하지 않으면 약한 엔티티 타입은 존재 불가
		- 구별자: 강한 개체가 주어졌을 때 이와 관련된 약한 개체들을 서로 구별할 수 있게 하는 애트리뷰트
		- 약한 엔티티 타입의 키는 강한 개체 타입의 키와 약한 타입의 구별자로 구성
![[스크린샷 2024-01-13 오후 9.14.25.png]]
## 애트리뷰트
- 하나의 엔티티는 연관된 애트리뷰트들의 집합으로 설명
- 도메인: 각 애트리뷰트가 가질 수 있는 값들의 집합
	- 여러 애트리뷰트가 동일한 도메인을 공유할 수 있다
- 키 애트리뷰트: 한 엔티티 타입 내에서 각각 엔티티를 고유하게 식별하는 애트리뷰트, ER 다이어그램에서 기본키에 속하는 애트리뷰트는 밑줄을 그러 표시
- 애트리뷰트 유형
	- 단순 애트리뷰트: 더 이상 다른 애트리뷰트로 나눌 수 없는 애트리뷰트
	- 복합 애트리뷰트: 두 개 이상의 애트리뷰트로 이루어진 애트리뷰트, 사용자의 선택에 따라 복합 애트리뷰트를 하나의 단위로 사용하기도 하고 떄로는 부속 애트리뷰트로 나누기도 한다
	- 단일값 애트리뷰트: 각 엔티티마다 정확하게 하나의 값을 갖는 애트리뷰트
	- 다치 애트리뷰트: 각 엔티티마다 여러개의 값을 가질 수 있는 애트리뷰트
	- 저장된 애트리뷰트: 다른 애트리뷰트와 독립적으로 존재하는 애트리뷰트
	- 유도된 애트리뷰트: 다른 애트리뷰트의 값으로부터 얻어진 애트리뷰트
![[스크린샷 2024-01-13 오후 9.20.33.png]]
## 관계
- 엔티티들 사이에 존재하는 연관이나 연결
- 두 가지 이상의 엔티티 타입들 사이의 사상
## 관계 집합
- 실제로 나타나 있는 관계 인스턴스들
- 동질의 관계들의 집합
## 관계 타입
- 개체 집합들 사이의 대응(사상)을 의미
- 동질의 관계들의 틀
## 관계의 애트리뷰트
- 관계타입은 키 애트리뷰트를 갖지 않는다
- 하나의 관계 집합 내에서 특정 관계의 식별은 참여 엔티티들의 키를 통해 이루어진다
## 차수
- 관계로 연결된 엔티티 타입들의 개수
![[스크린샷 2024-01-14 오후 1.30.13.png]]
### 카디널리티 비율의 최소, 최대 값
- min은 엔티티 타입 내의 각 엔티티는 적어도 min번 참여
- max는 엔티티 타입 내의 각 엔티티는 최대한 max번 참여
	-> `min = 0`은 반드시 관계에 참여할 필요 없음을 의미
	-> `min = *`은 어떠한 엔티티가 관계에 임의의 수 만큼 참여할 수 있음을 의미
![[스크린샷 2024-01-14 오후 1.33.00.png]]

## 역할
- 관계 타입의 의미를 명확하게 하기 위해 사용된다
- 특히 하나의 관계 타입에 하나의 엔티티 타입이 여러번 나타나는 경우에는 반드시 역할을 표기
![[스크린샷 2024-01-14 오후 1.46.58.png]]
## 참여 제약조건
- 전체 참여 : 엔티티 타입 E1의 모든 엔티티들이 관계타입 R에 의해 엔티티 타입 E2의 엔티티와 연관되는 것
- 부분 참여 : 엔티티 타입 E1의 일부 엔티티만 관계에 참여
- 약한 엔티티 타입은 반드시 전체 참여
![[스크린샷 2024-01-14 오후 1.48.44.png]]
### 다중 관계
- 두 엔티티 타입 사이에 두 개 이상의 관계 타입이 존재할 수 있다
![[스크린샷 2024-01-14 오후 1.49.14.png]]
### 순환적 관계
- 하나의 엔티티 타입이 동일한 관계 타입에 두 번 이상 참여하는 것이다
![[스크린샷 2024-01-14 오후 1.50.06.png]]
### 존재 종속의 특성
- 어떤 개체 b의 존재가 개체 a의 존재에 달려 있다면 b는 a에 존재 종속이다
- 개체 a를 삭제한다면 개체 b도 삭제해야 한다
- a를 주개체, b를 종속개체라고 한다
- 강한 개체 타입의 개체는 주 개체가 되고 약한 개체 타입은 종속 개체가 된다
# ER 모델의 또다른 표기법 (새발 표기법)
- 엔티티 타임 : 직사각형
- 애트리뷰트 : 엔티티 타입 직사각형 내에 포함
	- 새발 표기법에서는 다치, 유도, 복합 애트리뷰트의 구분이 어렵
- 관계 타입 : 실선
- 카디날리티 : 엔티티에 가까운 쪽
	- | : 1을 의미
	- ⍦ : N을 의미
- 참여 제약조건 : 엔티티에서 먼 쪽
	- o : 부분참여 (상대편)
	- | : 전체참여 (상대편)
![[스크린샷 2024-01-14 오후 1.56.43.png]]
# 데이터베이스 설계 과정
1. 요구사항 수집, 기술
2. 엔티티 타입 식별
3. 관계 타입 식별, 카디날리티 비율(1:1, 1:다, 다:다) 확인
4. 애트리뷰트 식별, 도메인 식별
5. 엔티티 타입의 기본키 식별
6. ER 스키마 작성
7. ER 스키마를 DBMS가 사용하는 데이터베이스 모델로 변환 (주로 관계모델)
## 실제 ER스키마 작성
1. 엔티티 타입(명사) 및 애트리뷰트 식별 - 약한 엔티티 타입 주의
2. 관계(동사)와 애트리뷰트 식별 - 카디널리티 비율, 참여 제약조건 주의
## ER 스키마를 작성할 때 지침
- 엔티티는 키 애트리뷰트 이외에 별도 애트리뷰트를 포함해야 한다
- 다치 애트리뷰트는 엔티티로 분류한다
- 애트리뷰트들이 직접적으로 설명하는 엔티티에 애트리뷰트들을 붙인다
- 엔티티 타입과 관계 타입을 절대적으로 구분하는 것은 어렵다
