### 하드웨어 시스템의 구성
- 프로그램 내장형 컴퓨터에서
	- CPU + 메모리 + 입출력 장치 +a(버스)를 하드웨어 시스템이라고 함
- 가장 핵심은 CPU
	- 레지스터(속도 가장 빠름) -> CPU안의 작은 메모리라고 생각
	- 주소 레지스터는 명령어가 임시로 저장되는 부분
	- 버퍼 레지스터는 데이터가 임시로 저장되는 부분
- 메모리는 명령어 + 데이터로 구성
### 명령어 수행 사이클
- CPU가 사이클을 돌 때마다 하나의 명령어 수행
![[스크린샷 2024-02-06 오후 6.29.35.png]]
1. 명령어 반임: 주기억장치의 명령어를 CPU의 레지스터로 가져옴
2. 명령어 해독: 대상이 무엇인지 파악
3. 데이터 반입: 데이터를 주기억장치에서 레지스터로 반입
4. CPU내의 수행유닛에서 작업 수행
### CPU 사례
- 명령어 형식: 연산코드(4비트) + 주소(12비트)로 구성
- 정수형식: 부호비트(1비트) + 절대값(15비트)로 구성
### 하드웨어 작동 사례
![[Pasted image 20240206183222.png]]
- 1 -> 데이터를 AC에 적재
- 5-> 데이터를 AC에 누적
- 2 -> AC값을 주소지에 저장
그림의 흐름 이해할 정도면 된다
명령어 반입 -> 해독 -> 데이터 반입 -> 실행
### 인터럽트
> 처리기의 일상적 작업 수행 흐름이 일시 보류되고 특정 처리작업이 수행되게 만들 목적으로, 처리기로 입력되는 하드웨어 신호 (키보드입력 생각)

- 동기적 이벤트, 내부 이벤트, 소프트웨어 인터럽트
	- 특정 명령어가 수행되거나 명령어 수행 중 특정 조건이 충족될 경우 처리기가 스스로 발생
	- 프로그램 수행과 관련된 이벤트 처리
	- 예외사항 혹은 트랩
- 비동기적 이벤트, 외부 이벤트, 하드웨어 인터럽트
	- 외부 장치가 처리기에게 자신의 상태 변화를 알리기 위해 발생시키는 인터럽트 신호
	- 처리기가 외부 장치의 작업의 끝날 때까지 수시로 상태변화를 체크하며 기다려야 하는 부담을 덜기 위한 방편
### 특권명령어와 처리기 수행모드
- 특권명령어  
	- 처리기에 특권이 부여된 상황에서만 수행할 수 있도록 제한된 기계명령어
	- (한 프로세스가 해당 명령어를 수행할 경우, 그 과정이나 결과가 시스템 영역이나 다른 프로세스의 영역, 혹은 다른 사용자의 환경을 침범해 해악을 끼칠 여지가 있는 명령어)
- 커널모드
	- 모든 기계명령어를 수행할 수 있게 허용
- 사용자모드
	- 특권명령어 수행이 허용되지 않고 인터럽트가 발생함
### 인터럽트 처리
![[Pasted image 20240206183837.png]]
1~i이전까지 사용자모드로 코드가 실행되지만 i에서 커널모드로 변경되어 인터럽트 발생, 인터럽트 처리기에 들어가서 처리 후 다시 수행
### 내부 / 동기 이벤트의 발생 및 처리
- CPU개발자들이 예측 가능한 시점에 발생하는 이벤트들
![[스크린샷 2024-02-06 오후 6.40.08.png]]
### 외부 / 비동기 이벤트의 발생 및 처리
- 예측 불가능한 이벤트들이 발생
- 한 단계가 끝나면 현재 상태 저장 후
- 다음 단계에서 오류 발생시 이전 단계 불러옴
![[스크린샷 2024-02-06 오후 6.41.11.png]]
![[Pasted image 20240206184128.png]]
- 그림 이해할 정도
- 인터럽트가 있어 처리기 대기시간이 줄어듦을 알고 있으면 된다
